# Template file for 'melonDS'
# Generated with xnew
pkgname=melonDS
version=0.8.3
revision=1
build_style=cmake
configure_args="-DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/opt/melonDS"
hostmakedepends="pkg-config"
makedepends="gtk+3-devel libcurl-devel libpcap-devel SDL2-devel glib-devel"
depends="gtk+3 libcurl libpcap SDL2"
short_desc="DS emulator, sorta"
maintainer="Sembo Sadur <labmailssadur@gmail.com>"
license="GPL-3.0-or-later"
homepage="http://melonds.kuribo64.net/"
distfiles="https://github.com/Arisotura/melonDS/archive/${version}.tar.gz"
checksum=9cea84c2e2929f540e7333f16526fd10fad3d260e2e5fe24def7db9680817935
nopie=yes

post_install() {
	mv ${DESTDIR}/opt/melonDS/bin/melonDS ${DESTDIR}/opt/melonDS
	rm -rf ${DESTDIR}/opt/melonDS/bin

	vinstall build/romlist.bin 0644 opt/melonDS

	cd icon
	for i in 16x16 32x32 48x48 64x64 128x128 256x256
	do
	vinstall melon_${i}.png 0644 usr/share/icons/hicolor/${i}/apps melonDS.png
	done

	vinstall ${FILESDIR}/melonDS.desktop 0644 usr/share/applications/
}
