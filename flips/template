# Template file for 'flips', generated with xnew
pkgname=flips
version=2021.12.05
revision=1
_buildcommit=96df78fd733ebc56d64bcfcaee7d127bfd6643d6 # change as you please
#archs="i686 x86_64"
build_style=gnu-makefile
# mirror flags from make.sh
_ADDFLAGS="-Wall -O3 -flto -fuse-linker-plugin -fomit-frame-pointer \
-fmerge-all-constants -fvisibility=hidden -fno-exceptions -fno-unwind-tables \
-fno-asynchronous-unwind-tables -ffunction-sections -fdata-sections -Wl,--gc-sections \
-fprofile-dir=obj/ -Wl,-z,relro,-z,now,--as-needed,--hash-style=gnu,--relax \
-pie -fPIE"
hostmakedepends="pkg-config git"
makedepends="gtk+3-devel libgomp-devel"
short_desc="Floating IPS - patcher for IPS and BPS files"
maintainer="Sembo Sadur <labmailssadur@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://github.com/Alcaro/flips"


do_fetch() {
	
	git clone --recursive https://github.com/Alcaro/flips ${pkgname}-${version}
	cd ${pkgname}-${version}
	git reset --hard ${_buildcommit}

}

pre_build() {
	
	TARGET=gtk # needed to build for gtk
	CFLAGS+="${_ADDFLAGS}"

}
